:root {
  --scroll-progress: 0;
  --title-target: -1px;
  --header-enter-multiplier: 0.9;

  /* Висота хедера — базове значення для розрахунків */
  --header-height-vh: clamp(8vh, 12vh, 14vh);
  
  /* Кінцева позиція — точно в центрі хедера (половина висоти) */
  --header-center-vh: calc(var(--header-height-vh) / 2);
  
  /* Автоматичний зсув — однаковий на всіх екранах */
  --title-shift: calc(50vh - var(--header-center-vh));
}

/* Титул фіксований і плавно змінює позицію/масштаб */
.title {
  display: flex;
  justify-content: center;
  align-items: center;
  position: fixed;
  left: 50%;
  top: 50vh;
  
  /* Універсальна формула трансформації */
  transform: translate(-50%, calc(-50% - var(--scroll-progress) * var(--title-shift))) 
             scale(calc(1.1 - var(--scroll-progress) * 0.85));
  transform-origin: center center;
  transition: transform 280ms cubic-bezier(.22,.9,.37,1);
  will-change: transform;
  z-index: 2000;

  font-size: clamp(1.2rem, 2.6vw, 2.6rem);
  font-family: 'Cinzel', serif;
  color: #e5d3b3;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  backface-visibility: hidden;
}

/* Логотип — адаптивний розмір через vw */
.logo-title {
  width: clamp(280px, 50vw, 800px);
  height: auto;
  aspect-ratio: 420 / 96;
  margin: 0;
  display: block;
  pointer-events: none;
}

.logo-title img {
  width: 100%;
  height: auto;
  display: block;
}

/* Явне правило для лого */
.title img,
.title .logo {
  display: block;
  width: 100%;
  max-width: 100%;
  height: auto;
  object-fit: contain;
  margin: 0 auto;
  pointer-events: none;
}

/* Смуга-хедер — використовує ту ж змінну для висоти */
.header-line {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--header-height-vh); /* синхронізовано з --header-center-vh */
  backdrop-filter: blur(20px) saturate(180%);
  background: rgba(40, 30, 20, 0.45);
  border-bottom: 1px solid rgba(255, 215, 160, 0.25);
  z-index: 1999;
  will-change: transform, opacity;
  transition: transform 320ms cubic-bezier(.22,.9,.37,1), opacity 240ms linear;
  transform: translateY(clamp(-100%, calc(-100% + var(--scroll-progress) * 100% * var(--header-enter-multiplier)), 0%));
  opacity: calc(min(1, var(--scroll-progress) * 1.05));
}

.logo {
  width: auto;
  height: auto;
  object-fit: contain;
  margin: 0;
  line-height: 1;
  white-space: nowrap;
}

.title h1 {
  margin: 0;
  line-height: 1;
  white-space: nowrap;
}

.title.scrolled {
  background: transparent;
  padding: 0 12px;
  color: #e5d3b3;
}

.header {
  position: relative;
  top: 44px;
  width: 100%;
  background-color: #e5d3b3;
  color: #121212;
  z-index: 1099;
  height: 44px;
  transition: height 200ms ease, top 200ms ease;
}

/* Медіа-запити для точного налаштування */
@media (max-width: 768px) {
  :root {
    --header-height-vh: clamp(7vh, 10vh, 12vh); /* менша висота хедера на планшетах */
  }
  
  .logo-title {
    width: clamp(240px, 60vw, 600px);
  }
}

@media (max-width: 480px) {
  :root {
    --header-height-vh: clamp(6vh, 9vh, 11vh); /* ще менша висота на телефонах */
  }
  
  .logo-title {
    width: clamp(200px, 70vw, 400px);
  }
}

/* Дуже великі екрани (4K+) */
@media (min-width: 1920px) {
  :root {
    --header-height-vh: clamp(10vh, 14vh, 16vh); /* більша висота на великих екранах */
  }
  
  .logo-title {
    width: clamp(600px, 40vw, 1000px);
  }
}